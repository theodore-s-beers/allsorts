import{t as N,b as V}from"../chunks/C_tAWPrL.js";import{F as M,p as $,A as G,k as P,l as T,m as R,e as U,a5 as z,M as B,a6 as D,a7 as O,G as H,a4 as u,a2 as K,a8 as g,R as h,g as c,J as Q,c as s,T as y,a9 as W}from"../chunks/BqUl4hIc.js";import{d as X}from"../chunks/CCrIdY5f.js";import{i as Y,p as x}from"../chunks/CfPffSAZ.js";function j(e){M&&$(e)!==null&&G(e)}let C=!1;function Z(){C||(C=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function ee(e){var t=R,r=U;P(null),T(null);try{return e()}finally{P(t),T(r)}}function F(e,t,r,n=r){e.addEventListener(t,()=>ee(r));const a=e.__on_r;a?e.__on_r=()=>{a(),n(!0)}:e.__on_r=()=>n(!0),Z()}function L(e,t,r=t){var n=z();F(e,"input",a=>{var i=a?e.defaultValue:e.value;if(i=w(e)?S(i):i,r(i),n&&i!==(i=t())){var l=e.selectionStart,o=e.selectionEnd;e.value=i??"",o!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(o,e.value.length))}}),(M&&e.defaultValue!==e.value||B(t)==null&&e.value)&&r(w(e)?S(e.value):e.value),D(()=>{var a=t();w(e)&&a===S(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function w(e){var t=e.type;return t==="number"||t==="range"}function S(e){return e===""?null:+e}function J(e,t,r){if(e.multiple)return ae(e,t);for(var n of e.options){var a=d(n);if(Y(a,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function re(e,t){O(()=>{var r=new MutationObserver(()=>{var n=e.__value;J(e,n)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function te(e,t,r=t){var n=!0;F(e,"change",a=>{var i=a?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(i),d);else{var o=e.querySelector(i)??e.querySelector("option:not([disabled])");l=o&&d(o)}r(l)}),O(()=>{var a=t();if(J(e,a,n),n&&a===void 0){var i=e.querySelector(":checked");i!==null&&(a=d(i),r(a))}e.__value=a,n=!1}),re(e)}function ae(e,t){for(var r of e.options)r.selected=~t.indexOf(d(r))}function d(e){return"__value"in e?e.__value:e.value}async function ne(e,t,r,n,a){s(t,x(c(t).trim().replace(/\n{2,}/g,`
`)));const i=c(t).split(`
`).map(o=>o.trim());if(c(r)==="naive"||!n.includes(c(r))){i.sort(),s(a,x(i.join(`
`)));return}const l={items:i,tailoring:c(r)};try{const o=await fetch("https://feruca-api.fly.dev/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!o.ok)throw new Error(`Sorting API request failed: ${o.status}, ${o.statusText}`);const v=await o.json();s(a,x(v.join(`
`)))}catch(o){o instanceof Error?console.error(o.message):console.error(o),s(a,"An error occurred with the sorting API request. Please try again.")}}function oe(e,t,r){s(t,""),s(r,"")}var ie=N('<h1 class="mb-6 text-3xl">Text sorting playground</h1> <div class="mb-4 flex gap-4"><textarea rows="20" placeholder="Enter items to be sorted here, one per line" class="grow rounded border bg-white p-2"></textarea> <textarea rows="20" readonly="" class="grow rounded border bg-white p-2"></textarea></div> <div class="flex items-center"><button class="mr-4 cursor-pointer rounded bg-blue-700 px-3 py-2 text-white">Sort</button> <button class="mr-4 cursor-pointer rounded bg-gray-600 px-3 py-2 text-white">Clear</button> <div class="mr-2">Sorting approach:</div> <select class="rounded border bg-white p-2"><option>Na√Øve</option><option selected>UCA default</option><option>Arabic first</option><option>Arabic interleaved</option></select> <button class="ml-auto cursor-pointer rounded bg-green-800 px-3 py-2 text-white">Copy</button></div>',1);function ve(e,t){H(t,!0);let r=g(""),n=g(""),a=g("uca");const i=["uca","ArabicScript","ArabicInterleaved"];var l=ie(),o=u(K(l),2),v=h(o);j(v);var A=u(v,2);j(A),y(o);var k=u(o,2),I=h(k);I.__click=[ne,r,a,i,n];var q=u(I,2);q.__click=[oe,r,n];var f=u(q,4),p=h(f);p.value=(p.__value="naive")==null?"":"naive";var b=u(p);b.value=(b.__value="uca")==null?"":"uca";var m=u(b);m.value=(m.__value="ArabicScript")==null?"":"ArabicScript";var E=u(m);E.value=(E.__value="ArabicInterleaved")==null?"":"ArabicInterleaved",y(f),W(2),y(k),L(v,()=>c(r),_=>s(r,_)),L(A,()=>c(n),_=>s(n,_)),te(f,()=>c(a),_=>s(a,_)),V(e,l),Q()}X(["click"]);export{ve as component};
